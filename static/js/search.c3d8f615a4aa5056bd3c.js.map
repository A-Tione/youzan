{"version":3,"sources":["webpack:///static/js/search.c3d8f615a4aa5056bd3c.js","webpack:///./src/modules/js/api.js?4c58****","webpack:///./src/pages/search/search.js","webpack:///./src/modules/js/mixin.js?53fa**"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","url","hotLists","banner","topList","rank","subList","searchList","goodsDetails","goodsDeal","cartAdd","cartList","cartReduce","cartRemove","cartMremove","addressLists","addressAdd","addressRemove","addressUpdate","addressSetDefault","key","hasOwnProperty","1","exports","115","Vue","use","InfiniteScroll","prototype","$ajax","axios","el","data","id","keyword","list","pageNum","pageSize","loading","allLoaded","isShow","created","this","getQueryVariable","getSearchList","methods","method","then","res","curLists","concat","catch","err","console","log","toGoods","location","href","move","document","body","scrollTop","toTop","Velocity","duration","variable","query","decodeURIComponent","window","search","substring","split","i","length","arr","toString","mixins","mixin","components","$mount","7","filters","twoNum","n","toFixed","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","90"],"mappings":"AAAAA,cAAc,IAERC,EACA,SAAUC,EAAQC,EAAqBC,GAE7C,YCLA,IAAIC,IACFC,SAAU,kBACVC,OAAQ,gBACRC,QAAS,oBACTC,KAAM,iBACNC,QAAS,oBACTC,WAAY,eACZC,aAAc,iBACdC,UAAW,cACXC,QAAS,YACTC,SAAU,aACVC,WAAY,eACZC,WAAY,eACZC,YAAa,gBACbC,aAAc,gBACdC,WAAW,YACXC,cAAc,eACdC,cAAc,YACdC,kBAAkB,eAOpB,KAAK,GAAIC,KAAOnB,GACVA,EAAIoB,eAAeD,KACrBnB,EAAImB,GAJG,kCAIWnB,EAAImB,GAIXnB,QDWTqB,EACA,SAAUxB,EAAQyB,KAMlBC,IACA,SAAU1B,EAAQC,EAAqBC,GAE7C,YEpDA,2JAQAyB,WAAIC,IAAIC,kBACRF,UAAIG,UAAUC,MAAQC,IAGZ,GAAIL,YACZM,GAAI,OACJC,MACEC,GAAI,KACJC,QAAS,GACTC,KAAK,KACLC,QAAS,EACTC,SAAU,EACVC,SAAS,EACTC,WAAW,EACXC,QAAO,GAETC,QAZgB,WAadC,KAAKT,GAAKS,KAAKC,iBAAiB,OAAS,GACzCD,KAAKR,QAAUQ,KAAKC,iBAAiB,YAAc,GACnDD,KAAKE,iBAGPC,SACED,cADO,WACQ,UACbF,MAAKJ,SAAU,EACfI,KAAKb,OACHiB,OAAQ,MACR7C,IAAKA,IAAIM,WAAJ,OAAsBmC,KAAKT,GAA3B,YAAyCS,KAAKR,UAClDa,KAAK,SAAAC,GACN,GAAIC,GAAWD,EAAIhB,KAAKG,IACxB,IAAI,EAAKA,KAAK,CACZ,GAAI,EAAKC,QAAS,EAChB,MAAO,GAAKG,WAAY,CAE1B,GAAKH,SAAW,EAChB,EAAKD,KAAO,EAAKA,KAAKe,OAAOD,OAE7B,GAAKd,KAAOc,CAEd,GAAKX,SAAU,IACda,MAAM,SAAAC,GACPC,QAAQC,IAAIF,EAAK,UAGrBG,QAtBO,SAsBCtB,GACNuB,SAASC,KAAT,iBAAiCxB,GAGnCyB,KA1BO,WA2BLL,QAAQC,IAAIK,SAASC,KAAKC,YAQ5BC,MAnCO,WAoCLC,IAASJ,SAASC,KAAK,UAAUI,SAAS,OAG5CrB,iBAvCO,SAuCUsB,GAEf,IAAK,GADDC,GAAQC,mBAAmBC,OAAOZ,SAASa,OAAOC,UAAU,GAAGC,MAAM,MAAMA,MAAM,KAC5EC,EAAE,EAAGA,EAAEN,EAAMO,OAAQD,IAAI,CAChC,GAAIE,GAAMR,EAAMM,GAAGD,MAAM,IACzB,IAAIG,EAAI,KAAOT,EAASU,WACtB,MAAOD,GAAI,GAGf,OAAO,IAIXE,QAASC,KACTC,gBAMEC,UFsEEC,EACA,SAAUlF,EAAQC,EAAqBC,GAE7C,YGjKA,IAAI6E,IACFI,SACEC,OAAQ,SAACC,GACP,GAAIA,EACF,MAAOA,GAAEC,QAAQ,IAErBC,KAAM,SAACF,GACL,GAAIA,EAAG,CACL,GAAIG,GAAO,GAAIC,MAAKJ,EACdG,GAAKE,aAMX,QALOF,EAAKG,WAAa,EAAI,GAAK,KAAOH,EAAKG,WAAa,GAAKH,EAAKG,WAAa,GAAK,KACjFH,EAAKI,UAAY,MACjBJ,EAAKK,WAAa,MAClBL,EAAKM,aAAe,KACpBN,EAAKO,gBAOJhB,QHqKTiB,GACA,SAAUhG,EAAQyB,OAMrB","file":"static/js/search.c3d8f615a4aa5056bd3c.js","sourcesContent":["webpackJsonp([6],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar url = {\n  hotLists: '/index/hotLists', //商品列表\n  banner: '/index/banner', //首页banner\n  topList: '/category/topList', //商品分类一级分类\n  rank: '/category/rank', //综合分类,\n  subList: '/category/subList', //商品分类二级分类\n  searchList: '/search/list', //商品列表\n  goodsDetails: '/goods/details', //获取商品详情\n  goodsDeal: '/goods/deal', //商品的交易列表\n  cartAdd: '/cart/add', //加入购物车\n  cartList: '/cart/list', //购物车列表\n  cartReduce: '/cart/reduce', //购物车移除商品\n  cartRemove: '/cart/remove', //删除购物车单个商品\n  cartMremove: '/cart/mremove', //删除购物车多个商品\n  addressLists: '/address/list', //地址列表\n  addressAdd: '/cart/add', //地址添加\n  addressRemove: '/cart/remove', //地址删除\n  addressUpdate: '/cart/add', //地址编辑\n  addressSetDefault: '/cart/remove' //默认地址\n\n\n  //开发环境和正式环境的切换\n  // let host = '';//正式\n};var host = 'http://yapi.edaedu.net/mock/105'; //开发\n\nfor (var key in url) {\n  if (url.hasOwnProperty(key)) {\n    //hasOwnProperty 表示对象自身属性中是否具有指定的属性\n    url[key] = host + url[key];\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_css_common_css__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_css_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_css_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__search_css__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__search_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__search_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_js_api__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_js_mixin__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_velocity_animate__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_velocity_animate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_velocity_animate__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_mint_ui__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_mint_ui__);\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_7_mint_ui__[\"InfiniteScroll\"]);\n__WEBPACK_IMPORTED_MODULE_2_vue__[\"default\"].prototype.$ajax = __WEBPACK_IMPORTED_MODULE_3_axios___default.a;\n\nvar app = new __WEBPACK_IMPORTED_MODULE_2_vue__[\"default\"]({\n  el: '#app',\n  data: {\n    id: null, //id\n    keyword: '', //搜索名称\n    list: null,\n    pageNum: 1,\n    pageSize: 6,\n    loading: false, //false可以加载，true不能加载，默认为false\n    allLoaded: false, //是否完全加载完成页面\n    isShow: true\n  },\n  created: function created() {\n    this.id = this.getQueryVariable('id') || '';\n    this.keyword = this.getQueryVariable('keyword') || '';\n    this.getSearchList();\n  },\n\n\n  methods: {\n    getSearchList: function getSearchList() {\n      var _this = this;\n\n      this.loading = true;\n      this.$ajax({\n        method: 'get',\n        url: __WEBPACK_IMPORTED_MODULE_4_js_api__[\"a\" /* default */].searchList + ('?id=' + this.id + '&keyword=' + this.keyword)\n      }).then(function (res) {\n        var curLists = res.data.list;\n        if (_this.list) {\n          if (_this.pageNum > 5) {\n            return _this.allLoaded = true;\n          }\n          _this.pageNum += 1;\n          _this.list = _this.list.concat(curLists);\n        } else {\n          _this.list = curLists;\n        }\n        _this.loading = false;\n      }).catch(function (err) {\n        console.log(err, 'err');\n      });\n    },\n    toGoods: function toGoods(id) {\n      location.href = 'goods.html?id=' + id;\n    },\n    move: function move() {\n      console.log(document.body.scrollTop);\n      // if (document.body.scrollTop > 100) {\n      //   this.isShow = true\n      // }else {\n      //   this.isShow = false\n      // }\n    },\n    toTop: function toTop() {\n      __WEBPACK_IMPORTED_MODULE_6_velocity_animate___default()(document.body, 'scroll', { duration: 1000 });\n    },\n    getQueryVariable: function getQueryVariable(variable) {\n      //取url参数\n      var query = decodeURIComponent(window.location.search.substring(1).split('&')).split(',');\n      for (var i = 0; i < query.length; i++) {\n        var arr = query[i].split('=');\n        if (arr[0] === variable.toString()) {\n          return arr[1];\n        }\n      }\n      return false;\n    }\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_5_js_mixin__[\"a\" /* default */]], //混合\n  components: {//组件加载`\n\n  }\n});\n\napp.$mount();\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar mixin = {\n  filters: { //过滤器\n    twoNum: function twoNum(n) {\n      if (n) return n.toFixed(2);\n    },\n    time: function time(n) {\n      if (n) {\n        var date = new Date(n),\n            Y = date.getFullYear() + '-',\n            M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-',\n            D = date.getDate() + ' ',\n            h = date.getHours() + ':',\n            m = date.getMinutes() + ':',\n            s = date.getSeconds();\n        return M + D + h + m + s;\n      }\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (mixin);\n\n/***/ }),\n\n/***/ 90:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[115]);\n\n\n// WEBPACK FOOTER //\n// static/js/search.c3d8f615a4aa5056bd3c.js","let url = {\r\n  hotLists: '/index/hotLists',//商品列表\r\n  banner: '/index/banner',//首页banner\r\n  topList: '/category/topList',//商品分类一级分类\r\n  rank: '/category/rank',//综合分类,\r\n  subList: '/category/subList',//商品分类二级分类\r\n  searchList: '/search/list',//商品列表\r\n  goodsDetails: '/goods/details',//获取商品详情\r\n  goodsDeal: '/goods/deal',//商品的交易列表\r\n  cartAdd: '/cart/add',//加入购物车\r\n  cartList: '/cart/list',//购物车列表\r\n  cartReduce: '/cart/reduce',//购物车移除商品\r\n  cartRemove: '/cart/remove',//删除购物车单个商品\r\n  cartMremove: '/cart/mremove',//删除购物车多个商品\r\n  addressLists: '/address/list',//地址列表\r\n  addressAdd:'/cart/add',//地址添加\r\n  addressRemove:'/cart/remove',//地址删除\r\n  addressUpdate:'/cart/add',//地址编辑\r\n  addressSetDefault:'/cart/remove',//默认地址\r\n}\r\n\r\n//开发环境和正式环境的切换\r\n// let host = '';//正式\r\nlet host = 'http://yapi.edaedu.net/mock/105';//开发\r\n\r\nfor (let key in url) {\r\n  if (url.hasOwnProperty(key)) {//hasOwnProperty 表示对象自身属性中是否具有指定的属性\r\n    url[key] = host + url[key]\r\n  }\r\n}\r\n\r\nexport default url\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import 'css/common.css'\r\nimport './search.css'\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from 'js/api'\r\nimport mixin from 'js/mixin'\r\nimport Velocity from 'velocity-animate'\r\nimport {InfiniteScroll} from 'mint-ui'\r\nVue.use(InfiniteScroll)\r\nVue.prototype.$ajax = axios;\r\n\r\n\r\nlet app = new Vue({\r\n  el: '#app',\r\n  data: {\r\n    id: null,//id\r\n    keyword: '',//搜索名称\r\n    list:null,\r\n    pageNum: 1,\r\n    pageSize: 6,\r\n    loading: false,//false可以加载，true不能加载，默认为false\r\n    allLoaded: false,//是否完全加载完成页面\r\n    isShow:true\r\n  },\r\n  created() {\r\n    this.id = this.getQueryVariable('id') || ''\r\n    this.keyword = this.getQueryVariable('keyword') || ''\r\n    this.getSearchList()\r\n  },\r\n\r\n  methods: {\r\n    getSearchList(){\r\n      this.loading = true\r\n      this.$ajax({\r\n        method: 'get',\r\n        url: url.searchList+`?id=${this.id}&keyword=${this.keyword}`,\r\n      }).then(res => {\r\n        let curLists = res.data.list\r\n        if (this.list){\r\n          if (this.pageNum >5){\r\n            return this.allLoaded = true\r\n          }\r\n          this.pageNum += 1\r\n          this.list = this.list.concat(curLists)\r\n        }else {\r\n          this.list = curLists\r\n        }\r\n        this.loading = false\r\n      }).catch(err => {\r\n        console.log(err, 'err')\r\n      })\r\n    },\r\n    toGoods(id){\r\n      location.href = `goods.html?id=${id}`\r\n    },\r\n\r\n    move() {\r\n      console.log(document.body.scrollTop)\r\n      // if (document.body.scrollTop > 100) {\r\n      //   this.isShow = true\r\n      // }else {\r\n      //   this.isShow = false\r\n      // }\r\n    },\r\n\r\n    toTop(){\r\n      Velocity(document.body,'scroll',{duration:1000})\r\n    },\r\n\r\n    getQueryVariable(variable) {//取url参数\r\n      let query = decodeURIComponent(window.location.search.substring(1).split('&')).split(',')\r\n      for (let i=0; i<query.length; i++){\r\n        let arr = query[i].split('=')\r\n        if (arr[0] === variable.toString()){\r\n          return arr[1]\r\n        }\r\n      }\r\n      return false\r\n    },\r\n  },\r\n\r\n  mixins: [mixin],//混合\r\n  components: {//组件加载`\r\n\r\n  }\r\n})\r\n\r\n\r\napp.$mount()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.js","let mixin = {\r\n  filters: {//过滤器\r\n    twoNum: (n) => {\r\n      if (n)\r\n        return n.toFixed(2)\r\n    },\r\n    time: (n) => {\r\n      if (n) {\r\n        let date = new Date(n),\r\n          Y = date.getFullYear() + '-',\r\n          M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-',\r\n          D = date.getDate() + ' ',\r\n          h = date.getHours() + ':',\r\n          m = date.getMinutes() + ':',\r\n          s = date.getSeconds();\r\n        return M + D + h + m + s\r\n      }\r\n    }\r\n  },\r\n}\r\n\r\nexport default mixin\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js"],"sourceRoot":""}