{"version":3,"sources":["webpack:///static/js/goods.cf43124d95c03354c1f7.js","webpack:///./src/modules/js/api.js?4c58","webpack:///./src/pages/goods/goods.js","webpack:///./src/components/Swiper.vue?8240","webpack:///Swiper.vue","webpack:///./src/components/Swiper.vue?151e","webpack:///./src/modules/js/mixin.js"],"names":["webpackJsonp","0","module","__webpack_exports__","__webpack_require__","url","hotLists","banner","topList","rank","subList","searchList","goodsDetails","goodsDeal","cartAdd","cartList","cartReduce","cartRemove","cartMremove","addressLists","addressAdd","addressRemove","addressUpdate","addressSetDefault","key","hasOwnProperty","1","exports","112","Vue","prototype","$ajax","axios","el","data","id","detail","dealList","detailTab","tabIndex","skuType","showSku","skuNum","isAddCart","showAddMessage","created","this","getQueryVariable","details","watch","val","oldVal","document","body","style","overflow","querySelector","methods","method","then","res","catch","err","console","log","deals","list","changeTable","index","chooseSku","type","minNum","e","addCart","post","number","code","setTimeout","variable","query","decodeURIComponent","window","location","search","substring","split","i","length","arr","toString","mixins","mixin","components","Swiper","$mount","19","injectStyle","ssrContext","Component","27","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_swiper__","__WEBPACK_IMPORTED_MODULE_1_swiper_dist_css_swiper_css__","n","38","39","41","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","attrs","img","_v","staticRenderFns","7","filters","twoNum","toFixed","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","82","83","84","85","86","87","88"],"mappings":"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","file":"static/js/goods.cf43124d95c03354c1f7.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 0:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar url = {\n  hotLists: '/index/hotLists', //商品列表\n  banner: '/index/banner', //首页banner\n  topList: '/category/topList', //商品分类一级分类\n  rank: '/category/rank', //综合分类,\n  subList: '/category/subList', //商品分类二级分类\n  searchList: '/search/list', //商品列表\n  goodsDetails: '/goods/details', //获取商品详情\n  goodsDeal: '/goods/deal', //商品的交易列表\n  cartAdd: '/cart/add', //加入购物车\n  cartList: '/cart/list', //购物车列表\n  cartReduce: '/cart/reduce', //购物车移除商品\n  cartRemove: '/cart/remove', //删除购物车单个商品\n  cartMremove: '/cart/mremove', //删除购物车多个商品\n  addressLists: '/address/list', //地址列表\n  addressAdd: '/cart/add', //地址添加\n  addressRemove: '/cart/remove', //地址删除\n  addressUpdate: '/cart/add', //地址编辑\n  addressSetDefault: '/cart/remove' //默认地址\n\n\n  //开发环境和正式环境的切换\n  // let host = '';//正式\n};var host = 'http://yapi.edaedu.net/mock/105'; //开发\n\nfor (var key in url) {\n  if (url.hasOwnProperty(key)) {\n    //hasOwnProperty 表示对象自身属性中是否具有指定的属性\n    url[key] = host + url[key];\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (url);\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_css_common_css__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_css_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_css_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__goods_css__ = __webpack_require__(82);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__goods_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__goods_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__goods_theme_css__ = __webpack_require__(88);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__goods_theme_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__goods_theme_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__goods_sku_css__ = __webpack_require__(87);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__goods_sku_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__goods_sku_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__goods_mars_css__ = __webpack_require__(86);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__goods_mars_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__goods_mars_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__goods_custom_css__ = __webpack_require__(85);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__goods_custom_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__goods_custom_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__goods_common_css__ = __webpack_require__(84);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__goods_common_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__goods_common_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__goods_base_css__ = __webpack_require__(83);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__goods_base_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__goods_base_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_axios__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_js_api__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_js_mixin__ = __webpack_require__(7);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_8_vue__[\"default\"].prototype.$ajax = __WEBPACK_IMPORTED_MODULE_9_axios___default.a;\n\nvar app = new __WEBPACK_IMPORTED_MODULE_8_vue__[\"default\"]({\n  el: '#app',\n  data: {\n    id: null,\n    detail: null,\n    dealList: null, //交易列表\n    detailTab: ['商品详情', '本店成交'],\n    tabIndex: 0,\n    skuType: 1, //sku规格选择\n    showSku: false,\n    skuNum: 1, //sku数量\n    isAddCart: false,\n    showAddMessage: false\n  },\n  created: function created() {\n    this.id = this.getQueryVariable('id') || '';\n    this.details();\n  },\n\n  watch: {\n    showSku: function showSku(val, oldVal) {\n      document.body.style.overflow = val ? 'hidden' : 'auto';\n      document.querySelector('html').style.overflow = val ? 'hidden' : 'auto';\n      // document.body.style.height = val?'100%':'auto'\n      // document.querySelector('html').style.height = val?'100%':'auto'\n    }\n  },\n\n  methods: {\n    details: function details() {\n      var _this = this;\n\n      this.$ajax({\n        method: 'get',\n        url: __WEBPACK_IMPORTED_MODULE_10_js_api__[\"a\" /* default */].goodsDetails + ('?id=' + this.id)\n      }).then(function (res) {\n        _this.detail = res.data.data;\n      }).catch(function (err) {\n        console.log(err, 'err');\n      });\n    },\n    deals: function deals() {\n      var _this2 = this;\n\n      this.$ajax({\n        method: 'get',\n        url: __WEBPACK_IMPORTED_MODULE_10_js_api__[\"a\" /* default */].goodsDeal + ('?id=' + this.id)\n      }).then(function (res) {\n        _this2.dealList = res.data.list;\n      }).catch(function (err) {\n        console.log(err, 'err');\n      });\n    },\n    changeTable: function changeTable(index) {\n      this.tabIndex = index;\n      if (index === 1) {\n        this.deals();\n      }\n    },\n    chooseSku: function chooseSku(type) {\n      this.skuType = type;\n      this.showSku = true;\n    },\n    minNum: function minNum(e) {\n      //修改商品数量\n      if (e < 0 && this.skuNum === 1) {\n        return;\n      }\n      this.skuNum += e;\n    },\n    addCart: function addCart() {\n      var _this3 = this;\n\n      //加入购物车\n      this.$ajax.post(__WEBPACK_IMPORTED_MODULE_10_js_api__[\"a\" /* default */].cartAdd, {\n        id: this.id,\n        number: this.skuNum\n      }).then(function (res) {\n        if (res.data.code === 1) {\n          _this3.showSku = false;\n          _this3.isAddCart = true;\n          _this3.showAddMessage = true;\n\n          setTimeout(function () {\n            _this3.showAddMessage = false;\n          }, 1000);\n        }\n      });\n    },\n    getQueryVariable: function getQueryVariable(variable) {\n      //取url参数\n      var query = decodeURIComponent(window.location.search.substring(1).split('&')).split(',');\n      for (var i = 0; i < query.length; i++) {\n        var arr = query[i].split('=');\n        if (arr[0] === variable.toString()) {\n          return arr[1];\n        }\n      }\n      return false;\n    }\n  },\n\n  mixins: [__WEBPACK_IMPORTED_MODULE_12_js_mixin__[\"a\" /* default */]], //混合\n  components: { //组件加载`\n    Swiper: __WEBPACK_IMPORTED_MODULE_11_components_Swiper_vue___default.a\n  }\n});\n\napp.$mount();\n\n/***/ }),\n\n/***/ 19:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(39)\n}\nvar Component = __webpack_require__(9)(\n  /* script */\n  __webpack_require__(27),\n  /* template */\n  __webpack_require__(41),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-0f4a6c2d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 27:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_swiper__ = __webpack_require__(73);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_swiper_dist_css_swiper_css__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_swiper_dist_css_swiper_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_swiper_dist_css_swiper_css__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"Swiper\",\n  props: {\n    list: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  mounted: function mounted() {\n    new __WEBPACK_IMPORTED_MODULE_0_swiper__[\"a\" /* default */]('.swiper-container', {\n      autoplay: true, //可选选项，自动滑动\n      pagination: {\n        el: '.swiper-pagination'\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"swiper-container\"\n  }, [_c('div', {\n    staticClass: \"swiper-wrapper\"\n  }, _vm._l((_vm.list), function(item) {\n    return _c('div', {\n      staticClass: \"swp-page swiper-slide\"\n    }, [_c('a', {\n      staticClass: \"js-no-follow\",\n      attrs: {\n        \"href\": item.url || '#'\n      }\n    }, [_c('div', {\n      staticClass: \"thumb img-box\"\n    }, [_c('img', {\n      staticClass: \"goods-main-photo fadeIn\",\n      attrs: {\n        \"src\": item.img || item\n      }\n    })])])])\n  }), 0), _vm._v(\" \"), _c('div', {\n    staticClass: \"swiper-pagination\"\n  })])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 7:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar mixin = {\n  filters: { //过滤器\n    twoNum: function twoNum(n) {\n      if (n) return n.toFixed(2);\n    },\n    time: function time(n) {\n      if (n) {\n        var date = new Date(n),\n            Y = date.getFullYear() + '-',\n            M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-',\n            D = date.getDate() + ' ',\n            h = date.getHours() + ':',\n            m = date.getMinutes() + ':',\n            s = date.getSeconds();\n        return M + D + h + m + s;\n      }\n    }\n  }\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (mixin);\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 83:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 84:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 85:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 88:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[112]);\n\n\n// WEBPACK FOOTER //\n// static/js/goods.cf43124d95c03354c1f7.js","let url = {\r\n  hotLists: '/index/hotLists',//商品列表\r\n  banner: '/index/banner',//首页banner\r\n  topList: '/category/topList',//商品分类一级分类\r\n  rank: '/category/rank',//综合分类,\r\n  subList: '/category/subList',//商品分类二级分类\r\n  searchList: '/search/list',//商品列表\r\n  goodsDetails: '/goods/details',//获取商品详情\r\n  goodsDeal: '/goods/deal',//商品的交易列表\r\n  cartAdd: '/cart/add',//加入购物车\r\n  cartList: '/cart/list',//购物车列表\r\n  cartReduce: '/cart/reduce',//购物车移除商品\r\n  cartRemove: '/cart/remove',//删除购物车单个商品\r\n  cartMremove: '/cart/mremove',//删除购物车多个商品\r\n  addressLists: '/address/list',//地址列表\r\n  addressAdd:'/cart/add',//地址添加\r\n  addressRemove:'/cart/remove',//地址删除\r\n  addressUpdate:'/cart/add',//地址编辑\r\n  addressSetDefault:'/cart/remove',//默认地址\r\n}\r\n\r\n//开发环境和正式环境的切换\r\n// let host = '';//正式\r\nlet host = 'http://yapi.edaedu.net/mock/105';//开发\r\n\r\nfor (let key in url) {\r\n  if (url.hasOwnProperty(key)) {//hasOwnProperty 表示对象自身属性中是否具有指定的属性\r\n    url[key] = host + url[key]\r\n  }\r\n}\r\n\r\nexport default url\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/api.js","import 'css/common.css'\r\nimport './goods.css'\r\nimport './goods_theme.css'\r\nimport './goods_sku.css'\r\nimport './goods_mars.css'\r\nimport './goods_custom.css'\r\nimport './goods_common.css'\r\nimport './goods_base.css'\r\nimport Vue from 'vue'\r\nimport axios from 'axios'\r\nimport url from 'js/api'\r\nimport Swiper from 'components/Swiper.vue'\r\nimport mixin from 'js/mixin'\r\n\r\nVue.prototype.$ajax = axios;\r\n\r\n\r\nlet app = new Vue({\r\n  el: '#app',\r\n  data: {\r\n    id:null,\r\n    detail: null,\r\n    dealList:null,//交易列表\r\n    detailTab:['商品详情','本店成交'],\r\n    tabIndex:0,\r\n    skuType: 1,//sku规格选择\r\n    showSku: false,\r\n    skuNum:1,//sku数量\r\n    isAddCart: false,\r\n    showAddMessage: false,\r\n  },\r\n  created() {\r\n    this.id = this.getQueryVariable('id') || ''\r\n    this.details()\r\n  },\r\n  watch:{\r\n    showSku(val,oldVal){\r\n      document.body.style.overflow = val?'hidden':'auto'\r\n      document.querySelector('html').style.overflow = val?'hidden':'auto'\r\n      // document.body.style.height = val?'100%':'auto'\r\n      // document.querySelector('html').style.height = val?'100%':'auto'\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    details(){\r\n      this.$ajax({\r\n        method: 'get',\r\n        url: url.goodsDetails+`?id=${this.id}`,\r\n      }).then(res => {\r\n        this.detail = res.data.data\r\n      }).catch(err => {\r\n        console.log(err, 'err')\r\n      })\r\n    },\r\n    deals(){\r\n      this.$ajax({\r\n        method: 'get',\r\n        url: url.goodsDeal+`?id=${this.id}`,\r\n      }).then(res => {\r\n        this.dealList = res.data.list\r\n      }).catch(err => {\r\n        console.log(err, 'err')\r\n      })\r\n    },\r\n    changeTable(index){\r\n      this.tabIndex = index\r\n      if (index===1){\r\n        this.deals()\r\n      }\r\n    },\r\n    chooseSku(type){\r\n      this.skuType = type\r\n      this.showSku = true\r\n    },\r\n    minNum(e){//修改商品数量\r\n      if (e<0 && this.skuNum ===1){return}\r\n      this.skuNum += e\r\n    },\r\n    addCart(){//加入购物车\r\n      this.$ajax.post(url.cartAdd,{\r\n        id:this.id,\r\n        number: this.skuNum\r\n      }).then(res=>{\r\n        if (res.data.code===1){\r\n          this.showSku = false\r\n          this.isAddCart = true\r\n          this.showAddMessage = true\r\n\r\n          setTimeout(()=>{\r\n            this.showAddMessage = false\r\n          },1000)\r\n        }\r\n      })\r\n    },\r\n\r\n    getQueryVariable(variable) {//取url参数\r\n      let query = decodeURIComponent(window.location.search.substring(1).split('&')).split(',')\r\n      for (let i=0; i<query.length; i++){\r\n        let arr = query[i].split('=')\r\n        if (arr[0] === variable.toString()){\r\n          return arr[1]\r\n        }\r\n      }\r\n      return false\r\n    },\r\n  },\r\n\r\n  mixins: [mixin],//混合\r\n  components: {//组件加载`\r\n    Swiper,\r\n  }\r\n})\r\n\r\n\r\napp.$mount()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/goods/goods.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f4a6c2d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Swiper.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Swiper.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f4a6c2d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Swiper.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-0f4a6c2d\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Swiper.vue\n// module id = 19\n// module chunks = 2 3","<template>\r\n  <div class=\"swiper-container\">\r\n    <div class=\"swiper-wrapper\">\r\n      <div v-for=\"item in list\" class=\"swp-page swiper-slide\">\r\n        <a class=\"js-no-follow\" :href=\"item.url || '#'\">\r\n          <div class=\"thumb img-box\">\r\n            <img class=\"goods-main-photo fadeIn\" :src=\"item.img || item\">\r\n          </div>\r\n        </a>\r\n      </div>\r\n    </div>\r\n    <div class=\"swiper-pagination\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Swiper from 'swiper'\r\n  import 'swiper/dist/css/swiper.css'\r\n\r\n  export default {\r\n    name: \"Swiper\",\r\n    props: {\r\n      list: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      new Swiper('.swiper-container',{\r\n        autoplay: true,//可选选项，自动滑动\r\n        pagination: {\r\n          el: '.swiper-pagination',\r\n        },\r\n      })\r\n    }\r\n\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .thumb img-box{\r\n    text-align: center;\r\n    position: relative;\r\n  }\r\n\r\n  .swiper-slide img{\r\n    position: absolute;\r\n    margin: auto;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n    height: 100%;\r\n  }\r\n  .swiper-container {\r\n    height: 300px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    overflow: hidden;\r\n    -webkit-backface-visibility: hidden;\r\n    backface-visibility: hidden;\r\n    z-index: 1\r\n  }\r\n\r\n  .swiper-wrapper {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    -webkit-transition-property: -webkit-transform, left, top;\r\n    -webkit-transition-duration: 0s;\r\n    -webkit-transform: translateZ(0);\r\n    -webkit-transition-timing-function: ease;\r\n    -moz-transition-property: -moz-transform, left, top;\r\n    -moz-transition-duration: 0s;\r\n    -moz-transform: translateZ(0);\r\n    -moz-transition-timing-function: ease;\r\n    -o-transition-property: -o-transform, left, top;\r\n    -o-transition-duration: 0s;\r\n    -o-transform: translateZ(0);\r\n    -o-transition-timing-function: ease;\r\n    -o-transform: translate(0);\r\n    -ms-transition-property: -ms-transform, left, top;\r\n    -ms-transition-duration: 0s;\r\n    -ms-transform: translateZ(0);\r\n    -ms-transition-timing-function: ease;\r\n    transition-property: left, top, -webkit-transform;\r\n    transition-property: transform, left, top;\r\n    transition-property: transform, left, top, -webkit-transform;\r\n    transition-duration: 0s;\r\n    transform: translateZ(0);\r\n    transition-timing-function: ease\r\n  }\r\n\r\n  .swiper-free-mode > .swiper-wrapper {\r\n    transition-timing-function: ease-out;\r\n    margin: 0 auto\r\n  }\r\n\r\n  .swiper-slide {\r\n    float: left\r\n  }\r\n\r\n  .swiper-wp8-horizontal {\r\n    -ms-touch-action: pan-y\r\n  }\r\n\r\n  .swiper-wp8-vertical {\r\n    -ms-touch-action: pan-x\r\n  }\r\n\r\n\r\n  .swp-thumbnail-list {\r\n    margin-right: 6px\r\n  }\r\n\r\n  .swiper-pagination-switch {\r\n    display: inline-block;\r\n    margin: 7px 4px 0;\r\n    width: 5px;\r\n    height: 5px;\r\n    background: url(/v2/image/pagination.png) no-repeat scroll -1px -1px;\r\n    cursor: pointer\r\n  }\r\n\r\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5) {\r\n    .swiper-pagination-switch {\r\n      background-image: url(/v2/image/pagination@2x.png);\r\n      background-position: 0 0;\r\n      background-size: 5px 10px\r\n    }\r\n  }\r\n\r\n  .swiper-active-switch {\r\n    background-position: -1px -8px\r\n  }\r\n\r\n  @media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (min--moz-device-pixel-ratio: 1.5), only screen and (min-device-pixel-ratio: 1.5) {\r\n    .swiper-active-switch {\r\n      background-image: url(/v2/image/pagination@2x.png);\r\n      background-position: 0 -5px;\r\n      background-size: 5px 10px\r\n    }\r\n  }\r\n\r\n  .swp .swiper-wrapper,\r\n  .swp .swp-page {\r\n    overflow: hidden\r\n  }\r\n\r\n  .swp .swp-page {\r\n    display: none;\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center\r\n  }\r\n\r\n  .swp .swp-page img {\r\n    max-width: 100%;\r\n    max-height: 100%\r\n  }\r\n\r\n  .swp .swp-page:first-child {\r\n    display: block\r\n  }\r\n  .js-no-follow{\r\n    height: 100%;\r\n  }\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// Swiper.vue?349eef92","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"swiper-container\"\n  }, [_c('div', {\n    staticClass: \"swiper-wrapper\"\n  }, _vm._l((_vm.list), function(item) {\n    return _c('div', {\n      staticClass: \"swp-page swiper-slide\"\n    }, [_c('a', {\n      staticClass: \"js-no-follow\",\n      attrs: {\n        \"href\": item.url || '#'\n      }\n    }, [_c('div', {\n      staticClass: \"thumb img-box\"\n    }, [_c('img', {\n      staticClass: \"goods-main-photo fadeIn\",\n      attrs: {\n        \"src\": item.img || item\n      }\n    })])])])\n  }), 0), _vm._v(\" \"), _c('div', {\n    staticClass: \"swiper-pagination\"\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f4a6c2d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Swiper.vue\n// module id = 41\n// module chunks = 2 3","let mixin = {\r\n  filters: {//过滤器\r\n    twoNum: (n) => {\r\n      if (n)\r\n        return n.toFixed(2)\r\n    },\r\n    time: (n) => {\r\n      if (n) {\r\n        let date = new Date(n),\r\n          Y = date.getFullYear() + '-',\r\n          M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-',\r\n          D = date.getDate() + ' ',\r\n          h = date.getHours() + ':',\r\n          m = date.getMinutes() + ':',\r\n          s = date.getSeconds();\r\n        return M + D + h + m + s\r\n      }\r\n    }\r\n  },\r\n}\r\n\r\nexport default mixin\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/js/mixin.js"],"sourceRoot":""}